import requests
import random

DIFFICULTY = 10
FREQ = 100/DIFFICULTY

BLOCKED_LETTERS = {'A': "\n .----------------. \n| .--------------. |\n| |      __      | |\n| |     /  \\     | |\n| |    / /\\ \\    | |\n| |   / ____ \\   | |\n| | _/ /    \\ \\_ | |\n| ||____|  |____|| |\n| |              | |\n| '--------------' |\n '----------------' \n\n", 'B': "\n .----------------. \n| .--------------. |\n| |   ______     | |\n| |  |_   _ \\    | |\n| |    | |_) |   | |\n| |    |  __'.   | |\n| |   _| |__) |  | |\n| |  |_______/   | |\n| |              | |\n| '--------------' |\n '----------------' \n\n", 'C': "\n .----------------. \n| .--------------. |\n| |     ______   | |\n| |   .' ___  |  | |\n| |  / .'   \\_|  | |\n| |  | |         | |\n| |  \\ `.___.'\\  | |\n| |   `._____.'  | |\n| |              | |\n| '--------------' |\n '----------------' \n\n", 'D': "\n .----------------. \n| .--------------. |\n| |  ________    | |\n| | |_   ___ `.  | |\n| |   | |   `. \\ | |\n| |   | |    | | | |\n| |  _| |___.' / | |\n| | |________.'  | |\n| |              | |\n| '--------------' |\n '----------------' \n\n", 'E': "\n .----------------. \n| .--------------. |\n| |  _________   | |\n| | |_   ___  |  | |\n| |   | |_  \\_|  | |\n| |   |  _|  _   | |\n| |  _| |___/ |  | |\n| | |_________|  | |\n| |              | |\n| '--------------' |\n '----------------' \n\n", 'F': "\n .----------------. \n| .--------------. |\n| |  _________   | |\n| | |_   ___  |  | |\n| |   | |_  \\_|  | |\n| |   |  _|      | |\n| |  _| |_       | |\n| | |_____|      | |\n| |              | |\n| '--------------' |\n '----------------' \n\n", 'G': "\n .----------------. \n| .--------------. |\n| |    ______    | |\n| |  .' ___  |   | |\n| | / .'   \\_|   | |\n| | | |    ____  | |\n| | \\ `.___]  _| | |\n| |  `._____.'   | |\n| |              | |\n| '--------------' |\n '----------------' \n\n", 'H': "\n .----------------. \n| .--------------. |\n| |  ____  ____  | |\n| | |_   ||   _| | |\n| |   | |__| |   | |\n| |   |  __  |   | |\n| |  _| |  | |_  | |\n| | |____||____| | |\n| |              | |\n| '--------------' |\n '----------------' \n\n", 'I': "\n .----------------. \n| .--------------. |\n| |     _____    | |\n| |    |_   _|   | |\n| |      | |     | |\n| |      | |     | |\n| |     _| |_    | |\n| |    |_____|   | |\n| |              | |\n| '--------------' |\n '----------------' \n\n", 'J': "\n .----------------. \n| .--------------. |\n| |     _____    | |\n| |    |_   _|   | |\n| |      | |     | |\n| |   _  | |     | |\n| |  | |_' |     | |\n| |  `.___.'     | |\n| |              | |\n| '--------------' |\n '----------------' \n\n", 'K': "\n .----------------. \n| .--------------. |\n| |  ___  ____   | |\n| | |_  ||_  _|  | |\n| |   | |_/ /    | |\n| |   |  __'.    | |\n| |  _| |  \\ \\_  | |\n| | |____||____| | |\n| |              | |\n| '--------------' |\n '----------------' \n\n", 'L': "\n .----------------. \n| .--------------. |\n| |   _____      | |\n| |  |_   _|     | |\n| |    | |       | |\n| |    | |   _   | |\n| |   _| |__/ |  | |\n| |  |________|  | |\n| |              | |\n| '--------------' |\n '----------------' \n\n", 'M': "\n .----------------. \n| .--------------. |\n| | ____    ____ | |\n| ||_   \\  /   _|| |\n| |  |   \\/   |  | |\n| |  | |\\  /| |  | |\n| | _| |_\\/_| |_ | |\n| ||_____||_____|| |\n| |              | |\n| '--------------' |\n '----------------' \n\n", 'N': "\n .-----------------.\n| .--------------. |\n| | ____  _____  | |\n| ||_   \\|_   _| | |\n| |  |   \\ | |   | |\n| |  | |\\ \\| |   | |\n| | _| |_\\   |_  | |\n| ||_____|\\____| | |\n| |              | |\n| '--------------' |\n '----------------' \n\n", 'O': "\n .----------------. \n| .--------------. |\n| |     ____     | |\n| |   .'    `.   | |\n| |  /  .--.  \\  | |\n| |  | |    | |  | |\n| |  \\  `--'  /  | |\n| |   `.____.'   | |\n| |              | |\n| '--------------' |\n '----------------' \n\n", 'P': "\n .----------------. \n| .--------------. |\n| |   ______     | |\n| |  |_   __ \\   | |\n| |    | |__) |  | |\n| |    |  ___/   | |\n| |   _| |_      | |\n| |  |_____|     | |\n| |              | |\n| '--------------' |\n '----------------' \n\n", 'Q': "\n .----------------. \n| .--------------. |\n| |    ___       | |\n| |  .'   '.     | |\n| | /  .-.  \\    | |\n| | | |   | |    | |\n| | \\  `-'  \\_   | |\n| |  `.___.\\__|  | |\n| |              | |\n| '--------------' |\n '----------------' \n\n", 'R': "\n .----------------. \n| .--------------. |\n| |  _______     | |\n| | |_   __ \\    | |\n| |   | |__) |   | |\n| |   |  __ /    | |\n| |  _| |  \\ \\_  | |\n| | |____| |___| | |\n| |              | |\n| '--------------' |\n '----------------' \n\n", 'S': "\n .----------------. \n| .--------------. |\n| |    _______   | |\n| |   /  ___  |  | |\n| |  |  (__ \\_|  | |\n| |   '.___`-.   | |\n| |  |`\\____) |  | |\n| |  |_______.'  | |\n| |              | |\n| '--------------' |\n '----------------' \n\n", 'T': "\n .----------------. \n| .--------------. |\n| |  _________   | |\n| | |  _   _  |  | |\n| | |_/ | | \\_|  | |\n| |     | |      | |\n| |    _| |_     | |\n| |   |_____|    | |\n| |              | |\n| '--------------' |\n '----------------' \n\n", 'U': "\n .----------------. \n| .--------------. |\n| | _____  _____ | |\n| ||_   _||_   _|| |\n| |  | |    | |  | |\n| |  | '    ' |  | |\n| |   \\ `--' /   | |\n| |    `.__.'    | |\n| |              | |\n| '--------------' |\n '----------------' \n\n", 'V': "\n .----------------. \n| .--------------. |\n| | ____   ____  | |\n| ||_  _| |_  _| | |\n| |  \\ \\   / /   | |\n| |   \\ \\ / /    | |\n| |    \\ ' /     | |\n| |     \\_/      | |\n| |              | |\n| '--------------' |\n '----------------' \n\n", 'W': "\n .----------------. \n| .--------------. |\n| | _____  _____ | |\n| ||_   _||_   _|| |\n| |  | | /\\ | |  | |\n| |  | |/  \\| |  | |\n| |  |   /\\   |  | |\n| |  |__/  \\__|  | |\n| |              | |\n| '--------------' |\n '----------------' \n\n", 'X': "\n .----------------. \n| .--------------. |\n| |  ____  ____  | |\n| | |_  _||_  _| | |\n| |   \\ \\  / /   | |\n| |    > `' <    | |\n| |  _/ /'`\\ \\_  | |\n| | |____||____| | |\n| |              | |\n| '--------------' |\n '----------------' \n\n", 'Y': "\n .----------------. \n| .--------------. |\n| |  ____  ____  | |\n| | |_  _||_  _| | |\n| |   \\ \\  / /   | |\n| |    \\ \\/ /    | |\n| |    _|  |_    | |\n| |   |______|   | |\n| |              | |\n| '--------------' |\n '----------------' \n\n", 'Z': "\n .----------------. \n| .--------------. |\n| |   ________   | |\n| |  |  __   _|  | |\n| |  |_/  / /    | |\n| |     .'.' _   | |\n| |   _/ /__/ |  | |\n| |  |________|  | |\n| |              | |\n| '--------------' |\n '----------------' \n\n"}

WIN_MSG = r"""
  ______   _______   ________   ______  ________           _____   ______   _______   __ 
 /      \ |       \ |        \ /      \|        \         |     \ /      \ |       \ |  \
|  $$$$$$\| $$$$$$$\| $$$$$$$$|  $$$$$$\\$$$$$$$$          \$$$$$|  $$$$$$\| $$$$$$$\| $$
| $$ __\$$| $$__| $$| $$__    | $$__| $$  | $$               | $$| $$  | $$| $$__/ $$| $$
| $$|    \| $$    $$| $$  \   | $$    $$  | $$          __   | $$| $$  | $$| $$    $$| $$
| $$ \$$$$| $$$$$$$\| $$$$$   | $$$$$$$$  | $$         |  \  | $$| $$  | $$| $$$$$$$\ \$$
| $$__| $$| $$  | $$| $$_____ | $$  | $$  | $$         | $$__| $$| $$__/ $$| $$__/ $$ __ 
 \$$    $$| $$  | $$| $$     \| $$  | $$  | $$          \$$    $$ \$$    $$| $$    $$|  \
  \$$$$$$  \$$   \$$ \$$$$$$$$ \$$   \$$   \$$           \$$$$$$   \$$$$$$  \$$$$$$$  \$$                                                                                       
                                                                                         
"""

LOSE_MSG = r"""
 __      __   ______   __    __        __        ______    ______  ________ 
|  \    /  \ /      \ |  \  |  \      |  \      /      \  /      \|        \
 \$$\  /  $$|  $$$$$$\| $$  | $$      | $$     |  $$$$$$\|  $$$$$$\\$$$$$$$$
  \$$\/  $$ | $$  | $$| $$  | $$      | $$     | $$  | $$| $$___\$$  | $$   
   \$$  $$  | $$  | $$| $$  | $$      | $$     | $$  | $$ \$$    \   | $$   
    \$$$$   | $$  | $$| $$  | $$      | $$     | $$  | $$ _\$$$$$$\  | $$   
    | $$    | $$__/ $$| $$__/ $$      | $$_____| $$__/ $$|  \__| $$  | $$   
    | $$     \$$    $$ \$$    $$      | $$     \\$$    $$ \$$    $$  | $$   
     \$$      \$$$$$$   \$$$$$$        \$$$$$$$$ \$$$$$$   \$$$$$$    \$$                                                                               
"""


DEFAULT_COLOR = "\033[0m"
YELLOW = "\033[33m"
GREEN = "\033[32m"
RED = "\033[31m"
BLUE = "\033[34m"

def get_a_word():
    url = "https://api.datamuse.com/words?sp=??????&md=f&max=1000"
    response = requests.get(url)

    if response.status_code == 200 and response.json():
        words = response.json()
        new_words = []
        for word in words:
            if word['tags'] and float(word['tags'][0].split(":")[1]) > FREQ:
                new_words.append(word['word'])
        return random.choice(new_words)
    return "ERRORS" #Even after error still give a word :)

def is_a_word(word):
    url = f"https://api.datamuse.com/words?sp={word}&max=1"
    response = requests.get(url)
    if response.status_code == 200 and response.json():
        return response.json()[0]['word'] == word.lower()
    return False

the_word = get_a_word()

def print_word(word, color_sequence):
    for row in range(len(BLOCKED_LETTERS['A'].split('\n'))):
        for i,letter in enumerate(word):
            print(color_sequence[i], end='')
            print(BLOCKED_LETTERS[letter.upper()].split('\n')[row], end=DEFAULT_COLOR)
        
        print("")

score = 0
print(the_word)
while score < 6:
    score += 1
    guess = input(">> ").lower()
    while len(guess) != len(the_word) or not is_a_word(guess):
        guess = input(">> ")
    print_word(guess, [GREEN if guess[i] == char else (YELLOW if guess[i] in the_word else RED) for i,char in enumerate(the_word)])
    if guess == the_word:
        break

print(GREEN if guess == the_word else RED, end='')
print(WIN_MSG if guess == the_word else LOSE_MSG)
print(r"""                                     ____                        ,----..                                     
  ,----..      ,---,               ,'  , `.    ,---,.           /   /   \                  ,---,.,-.----.    
 /   /   \    '  .' \           ,-+-,.' _ |  ,'  .' |          /   .     :        ,---.  ,'  .' |\    /  \   
|   :     :  /  ;    '.      ,-+-. ;   , ||,---.'   |         .   /   ;.  \      /__./|,---.'   |;   :    \  
.   |  ;. / :  :       \    ,--.'|'   |  ;||   |   .'        .   ;   /  ` ; ,---.;  ; ||   |   .'|   | .\ :  
.   ; /--`  :  |   /\   \  |   |  ,', |  '::   :  |-,        ;   |  ; \ ; |/___/ \  | |:   :  |-,.   : |: |  
;   | ;  __ |  :  ' ;.   : |   | /  | |  ||:   |  ;/|        |   :  | ; | '\   ;  \ ' |:   |  ;/||   |  \ :  
|   : |.' .'|  |  ;/  \   \'   | :  | :  |,|   :   .'        .   |  ' ' ' : \   \  \: ||   :   .'|   : .  /  
.   | '_.' :'  :  | \  \ ,';   . |  ; |--' |   |  |-,        '   ;  \; /  |  ;   \  ' .|   |  |-,;   | |  \  
'   ; : \  ||  |  '  '--'  |   : |  | ,    '   :  ;/|         \   \  ',  /    \   \   ''   :  ;/||   | ;\  \ 
'   | '/  .'|  :  :        |   : '  |/     |   |    \          ;   :    /      \   `  ;|   |    \:   ' | \.' 
|   :    /  |  | ,'        ;   | |`-'      |   :   .'           \   \ .'        :   \ ||   :   .':   : :-'   
 \   \ .'   `--''          |   ;/          |   | ,'              `---`           '---" |   | ,'  |   |.'     
  `---`                    '---'           `----'                                      `----'    `---'                                                                                                
""")
print(f"TURNS TAKEN: {score} {DEFAULT_COLOR}")
